{# templates/home/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Accueil - Plateforme Universitaire{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .feature-card {
            transition: all 0.3s ease;
            border: 1px solid rgba(0,0,0,0.1);
        }
        .feature-card:hover {
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transform: translateY(-5px);
        }
    </style>
{% endblock %}

{% block body %}
    <!-- Header START -->
    <header class="navbar-light navbar-sticky navbar-transparent">
        <!-- Logo Nav START -->
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <!-- Logo START -->
                <a class="navbar-brand me-0" href="{{ path('app_home') }}">
                    <img class="light-mode-item navbar-brand-item" src="{{ asset('assets/images/logo.svg') }}" alt="logo">
                    <img class="dark-mode-item navbar-brand-item" src="{{ asset('assets/images/logo-light.svg') }}" alt="logo">
                </a>
                <!-- Logo END -->

                <!-- Responsive navbar toggler -->
                <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-animation">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                </button>

                <!-- Main navbar START -->
                <div class="navbar-collapse collapse" id="navbarCollapse">
                    <ul class="navbar-nav navbar-nav-scroll ms-auto">
                        <!-- Nav item 1 Accueil -->
                        <li class="nav-item">
                            <a class="nav-link active" href="{{ path('app_home') }}">Accueil</a>
                        </li>

                        <!-- Nav item 2 À propos -->
                        <li class="nav-item">
                            <a class="nav-link" href="#about">À propos</a>
                        </li>

                        <!-- Nav item 3 Fonctionnalités -->
                        <li class="nav-item">
                            <a class="nav-link" href="#features">Fonctionnalités</a>
                        </li>

                        <!-- Nav item 4 Contact -->
                        <li class="nav-item">
                            <a class="nav-link" href="#contact">Contact</a>
                        </li>
                    </ul>
                </div>
                <!-- Main navbar END -->

                <!-- Dark mode options START -->
                <div class="dropdown">
                    <button class="btn btn-light btn-sm lh-1 p-2 mb-0" id="bd-theme"
                            type="button"
                            aria-expanded="false"
                            data-bs-toggle="dropdown"
                            data-bs-display="static">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-circle-half fa-fw theme-icon-active" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
                            <use href="#"></use>
                        </svg>
                    </button>

                    <ul class="dropdown-menu min-w-auto dropdown-menu-end" aria-labelledby="bd-theme">
                        <li class="mb-1">
                            <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light">
                                <svg width="16" height="16" fill="currentColor" class="bi bi-brightness-high-fill fa-fw mode-switch me-1" viewBox="0 0 16 16">
                                    <path d="M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
                                    <use href="#"></use>
                                </svg>Light
                            </button>
                        </li>
                        <li class="mb-1">
                            <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-stars-fill fa-fw mode-switch me-1" viewBox="0 0 16 16">
                                    <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
                                    <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
                                    <use href="#"></use>
                                </svg>Dark
                            </button>
                        </li>
                        <li>
                            <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-circle-half fa-fw mode-switch me-1" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
                                    <use href="#"></use>
                                </svg>Auto
                            </button>
                        </li>
                    </ul>
                </div>
                <!-- Dark mode options END -->

                <!-- Login button -->
                <div class="navbar-nav ms-3 d-none d-sm-block">
                    {% if current_user %}
                        <div class="dropdown">
                            <button class="btn btn-sm btn-dark mb-0 dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                {{ current_user.email }}
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                {% if is_admin %}
                                    <li><a class="dropdown-item" href="{{ path('app_administrateur_dashboard') }}">Panel Admin</a></li>
                                {% elseif is_enseignant %}
                                    <li><a class="dropdown-item" href="{{ path('app_enseignant_dashboard') }}">Mon Espace</a></li>
                                {% elseif is_etudiant %}
                                    <li><a class="dropdown-item" href="{{ path('app_etudiant_dashboard') }}">Mon Espace</a></li>
                                {% endif %}
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="{{ path('app_logout') }}">Déconnexion</a></li>
                            </ul>
                        </div>
                    {% else %}
                        <a href="{{ path('app_login') }}" class="btn btn-sm btn-dark mb-0">Se connecter</a>
                    {% endif %}
                </div>
            </div>
        </nav>
        <!-- Logo Nav END -->
    </header>
    <!-- Header END -->

    <!-- **************** MAIN CONTENT START **************** -->
    <main>

        <!-- =======================
        Main Banner START -->
        <section class="position-relative">
            <!-- SVG decoration -->
            <figure class="position-absolute top-50 end-0 translate-middle-y mt-n8">
                <svg class="rtl-flip" width="1360.5px" height="793px" viewBox="0 0 1360.5 793" style="enable-background:new 0 0 1360.5 793;" xml:space="preserve">
                <path class="fill-primary opacity-1" d="M33.5,766.3c75.3-24.2,124.5-20.3,155.2-62.8c35.4-49,53.1-184.7,138-191.2s100.9,55.6,208.8-21.2 s44.5-134.3,166.4-174.9c121.8-40.6,177,80.1,279.6,36s122.1-248.4,178.8-290.9c49.3-37,171.2-56.7,200.2-61.1v793H33.5 C33.5,793-41.9,790.4,33.5,766.3z"/>
            </svg>
            </figure>

            <div class="container position-relative mt-0 mt-sm-5 pt-5">
                <div class="row align-items-center">
                    <div class="col-md-5">
                        <!-- Title -->
                        <h1 class="mb-3">Bienvenue sur la Plateforme Universitaire</h1>
                        <h6 class="mb-3">Une solution complète pour la gestion des étudiants, enseignants et administrateurs.</h6>
                        <!-- Button -->
                        {% if current_user %}
                            {% if is_admin %}
                                <a href="{{ path('app_administrateur_dashboard') }}" class="btn btn-primary">Accéder au Panel Admin</a>
                            {% elseif is_enseignant %}
                                <a href="{{ path('app_enseignant_dashboard') }}" class="btn btn-primary">Accéder à mon Espace</a>
                            {% elseif is_etudiant %}
                                <a href="{{ path('app_etudiant_dashboard') }}" class="btn btn-primary">Accéder à mon Espace</a>
                            {% endif %}
                        {% else %}
                            <a href="{{ path('app_login') }}" class="btn btn-primary">Se connecter</a>
                        {% endif %}
                    </div>
                    <div class="col-md-7">
                        <!-- Image - J'ai conservé l'image 05.svg comme demandé -->
                        <img src="{{ asset('assets/images/element/05.svg') }}" alt="Plateforme Universitaire" class="img-fluid">
                    </div>
                </div>
            </div>
        </section>
        <!-- =======================
        Main Banner END -->

        <!-- =======================
        Features START -->
        <section class="pt-5" id="features">
            <div class="container">
                <div class="row g-4">
                    <div class="col-12">
                        <h3 class="mb-4 text-center">Nos fonctionnalités</h3>
                    </div>

                    <!-- Feature 1 -->
                    <div class="col-md-4">
                        <div class="feature-card card border h-100">
                            <div class="card-body text-center p-4">
                                <div class="icon-xl bg-primary bg-opacity-10 text-primary rounded-circle mb-3 mx-auto">
                                    <i class="fas fa-graduation-cap fa-fw"></i>
                                </div>
                                <h5 class="card-title">Gestion académique</h5>
                                <p class="card-text">
                                    Suivez votre progression académique, consultez vos notes et téléchargez vos documents.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Feature 2 -->
                    <div class="col-md-4">
                        <div class="feature-card card border h-100">
                            <div class="card-body text-center p-4">
                                <div class="icon-xl bg-success bg-opacity-10 text-success rounded-circle mb-3 mx-auto">
                                    <i class="fas fa-book fa-fw"></i>
                                </div>
                                <h5 class="card-title">Ressources pédagogiques</h5>
                                <p class="card-text">
                                    Accédez à une bibliothèque de ressources pédagogiques et supports de cours.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Feature 3 -->
                    <div class="col-md-4">
                        <div class="feature-card card border h-100">
                            <div class="card-body text-center p-4">
                                <div class="icon-xl bg-warning bg-opacity-10 text-warning rounded-circle mb-3 mx-auto">
                                    <i class="fas fa-comments fa-fw"></i>
                                </div>
                                <h5 class="card-title">Communication</h5>
                                <p class="card-text">
                                    Communiquez facilement avec vos enseignants et collègues étudiants.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- =======================
        Features END -->

        <!-- =======================
        About START -->
        <section class="pt-5" id="about">
            <div class="container">
                <div class="row g-4 g-lg-5 align-items-center">
                    <div class="col-lg-6 position-relative order-2">
                        <!-- SVG decoration -->
                        <figure class="position-absolute top-50 start-50 translate-middle ms-n8 d-none d-sm-block">
                            <svg width="625.8px" height="550px" viewBox="0 0 625.8 630.8" style="enable-background:new 0 0 625.8 630.8;">
                                <path class="fill-primary opacity-1" d="M445.8,133.5c59.7,50.3,122.9,96,149.7,161c26.5,64.6,15.9,148.6-29.9,197.7C520.3,541,439,555,364.9,578.1 c-74.5,23.1-142.1,55.2-200.4,42.3S57.2,549.7,32.6,487.3c-24.2-62-24.2-128.9-17.8-199.6C21.7,217,34.5,142.6,78.7,89.6 S198.6,5,264.4,16.7S386.1,83.2,445.8,133.5z"/>
                            </svg>
                        </figure>
                        <!-- Image -->
                        <img src="{{ asset('assets/images/element/06.svg') }}" class="position-relative img-fluid" alt="">
                    </div>

                    <div class="col-lg-6 position-relative order-1 order-lg-2">
                        <!-- Title -->
                        <h2>À propos de notre plateforme</h2>
                        <p class="mb-2">Notre plateforme universitaire offre une solution complète pour simplifier la gestion académique et améliorer l'expérience d'apprentissage pour tous les membres de la communauté universitaire.</p>
                        <!-- Info list -->
                        <ul class="list-group list-group-borderless mb-2">
                            <li class="list-group-item d-flex align-items-center px-0">
                                <p class="mb-0 h6 fw-light"><i class="bi bi-arrow-right text-primary me-2"></i>Interface intuitive et facile à utiliser</p>
                            </li>
                            <li class="list-group-item d-flex align-items-center px-0">
                                <p class="mb-0 h6 fw-light"><i class="bi bi-arrow-right text-primary me-2"></i>Accès sécurisé aux données académiques</p>
                            </li>
                            <li class="list-group-item d-flex align-items-center px-0">
                                <p class="mb-0 h6 fw-light"><i class="bi bi-arrow-right text-primary me-2"></i>Support technique disponible 24/7</p>
                            </li>
                            <li class="list-group-item d-flex align-items-center px-0">
                                <p class="mb-0 h6 fw-light"><i class="bi bi-arrow-right text-primary me-2"></i>Mises à jour régulières des fonctionnalités</p>
                            </li>
                        </ul>
                        <!-- Button -->
                        <a href="#contact" class="btn btn-primary-soft mb-0">Nous contacter</a>
                    </div>
                </div>
            </div>
        </section>
        <!-- =======================
        About END -->

        <!-- =======================
        Login Access Section START -->
        <section class="pt-5">
            <div class="container">
                <div class="row g-4">
                    <div class="col-12">
                        <div class="card bg-light border-0">
                            <div class="card-body p-5 text-center">
                                <h3 class="mb-3">Accédez à votre compte</h3>
                                <p class="mb-4">
                                    Connectez-vous pour accéder à toutes les fonctionnalités de la plateforme.
                                </p>
                                {% if not current_user %}
                                    <a href="{{ path('app_login') }}" class="btn btn-primary btn-lg mb-0">
                                        <i class="fas fa-sign-in-alt me-2"></i>Se connecter
                                    </a>
                                    <p class="small mt-3 text-muted">
                                        Vous n'avez pas de compte ? <a href="#contact" onclick="document.getElementById('contact').scrollIntoView({behavior: 'smooth'}); return false;">Contactez l'administration</a>
                                    </p>
                                {% else %}
                                    <div class="alert alert-success mb-0">
                                        Vous êtes déjà connecté en tant que <strong>{{ current_user.email }}</strong>
                                    </div>
                                    <div class="mt-3">
                                        {% if is_admin %}
                                            <a href="{{ path('app_administrateur_dashboard') }}" class="btn btn-primary">Accéder au Panel Admin</a>
                                        {% elseif is_enseignant %}
                                            <a href="{{ path('app_enseignant_dashboard') }}" class="btn btn-primary">Accéder à mon Espace</a>
                                        {% elseif is_etudiant %}
                                            <a href="{{ path('app_etudiant_dashboard') }}" class="btn btn-primary">Accéder à mon Espace</a>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- =======================
        Login Access Section END -->

        <!-- =======================
        Call to action START -->
        <section class="pt-5">
            <div class="container">
                <div class="row g-4">
                    <div class="col-12">
                        <div class="card bg-primary bg-opacity-10 border-0">
                            <div class="card-body p-5 text-center">
                                <h3 class="mb-3">Prêt à commencer ?</h3>
                                <p class="mb-4">
                                    Rejoignez notre communauté académique et bénéficiez de tous les avantages de notre plateforme.
                                </p>
                                {% if not current_user %}
                                    <a href="{{ path('app_login') }}" class="btn btn-primary mb-0">Se connecter maintenant</a>
                                {% else %}
                                    {% if is_admin %}
                                        <a href="{{ path('app_administrateur_dashboard') }}" class="btn btn-primary mb-0">Explorer le Panel Admin</a>
                                    {% elseif is_enseignant %}
                                        <a href="{{ path('app_enseignant_dashboard') }}" class="btn btn-primary mb-0">Explorer mon Espace</a>
                                    {% elseif is_etudiant %}
                                        <a href="{{ path('app_etudiant_dashboard') }}" class="btn btn-primary mb-0">Explorer mon Espace</a>
                                    {% endif %}
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- =======================
        Call to action END -->

        <!-- =======================
        Contact START -->
        <section class="pt-5" id="contact">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 mx-auto text-center">
                        <h2>Contactez-nous</h2>
                        <p class="mb-4">Pour toute question ou demande d'information concernant la plateforme universitaire</p>
                    </div>
                </div>

                <div class="row g-4 justify-content-center">
                    <div class="col-md-6">
                        <div class="card border">
                            <div class="card-body p-4">
                                <h5 class="card-title mb-3">Informations de contact</h5>
                                <ul class="list-unstyled mb-0">
                                    <li class="mb-2">
                                        <i class="fas fa-envelope text-primary me-2"></i>
                                        <span>support@plateforme-universitaire.edu</span>
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-phone text-primary me-2"></i>
                                        <span>+33 1 23 45 67 89</span>
                                    </li>
                                    <li>
                                        <i class="fas fa-map-marker-alt text-primary me-2"></i>
                                        <span>123 Avenue de l'Université, 75000 Paris</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- =======================
        Contact END -->

    </main>
    <!-- **************** MAIN CONTENT END **************** -->

    <!-- =======================
    Footer START -->
    <footer>
        <div class="container">
            <!-- Row START -->
            <div class="row g-4 justify-content-between pt-5">

                <!-- Widget 1 START -->
                <div class="col-md-5 col-lg-4">
                    <!-- logo -->
                    <a class="me-0" href="{{ path('app_home') }}">
                        <img class="light-mode-item h-40px" src="{{ asset('assets/images/logo.svg') }}" alt="logo">
                        <img class="dark-mode-item h-40px" src="{{ asset('assets/images/logo-light.svg') }}" alt="logo">
                    </a>

                    <p class="my-3">Plateforme Universitaire - Solution complète pour la gestion académique des établissements d'enseignement supérieur.</p>
                </div>
                <!-- Widget 1 END -->

                <!-- Widget 2 START -->
                <div class="col-md-7 col-lg-6">
                    <div class="row g-4 g-lg-5">
                        <!-- Link block -->
                        <div class="col-6 col-sm-4">
                            <ul class="nav flex-column">
                                <li class="nav-item"><a class="nav-link pt-0" href="{{ path('app_home') }}">Accueil</a></li>
                                <li class="nav-item"><a class="nav-link" href="#about">À propos</a></li>
                                <li class="nav-item"><a class="nav-link" href="#features">Fonctionnalités</a></li>
                                <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                            </ul>
                        </div>

                        <!-- Link block -->
                        <div class="col-6 col-sm-4">
                            <ul class="nav flex-column">
                                <li class="nav-item"><a class="nav-link pt-0" href="{{ path('app_login') }}">Connexion</a></li>
                                <li class="nav-item"><a class="nav-link" href="#contact">Support</a></li>
                                <li class="nav-item"><a class="nav-link" href="#contact">Administration</a></li>
                            </ul>
                        </div>

                        <!-- Link block -->
                        <div class="col-6 col-sm-4">
                            <ul class="nav flex-column">
                                <li class="nav-item"><a class="nav-link pt-0" href="#"><i class="fab fa-facebook-square text-facebook me-2"></i>Facebook</a></li>
                                <li class="nav-item"><a class="nav-link" href="#"><i class="fab fa-twitter-square text-twitter me-2"></i>Twitter</a></li>
                                <li class="nav-item"><a class="nav-link" href="#"><i class="fab fa-linkedin text-linkedin me-2"></i>Linkedin</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Widget 2 END -->

            </div><!-- Row END -->

            <hr> <!-- Divider -->

            <!-- Bottom footer -->
            <div class="row">
                <div class="col-12">
                    <div class="d-md-flex justify-content-between align-items-center pt-2 pb-4 text-center">
                        <!-- copyright text -->
                        <div class="text-primary-hover"> Copyrights ©2024 Plateforme Universitaire. Tous droits réservés.</div>
                        <!-- copyright links-->
                        <div class="nav justify-content-center mt-3 mt-md-0">
                            <ul class="list-inline mb-0">
                                <li class="list-inline-item"><a class="nav-link" href="#">Mentions légales</a></li>
                                <li class="list-inline-item"><a class="nav-link" href="#">Confidentialité</a></li>
                                <li class="list-inline-item pe-0"><a class="nav-link" href="#">Cookies</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- =======================
    Footer END -->

    <!-- Back to top -->
    <div class="back-top"><i class="bi bi-arrow-up-short position-absolute top-50 start-50 translate-middle"></i></div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        // Smooth scrolling for anchor links
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');

                    // Skip if it's just "#" or empty
                    if (href === '#' || href === '') return;

                    // Check if it's an anchor link (starts with #)
                    if (href.startsWith('#')) {
                        e.preventDefault();
                        const targetElement = document.querySelector(href);
                        if (targetElement) {
                            targetElement.scrollIntoView({
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });
        });
    </script>
{% endblock %}